\chapter{O Estudo de Caso}
\label{cap:estudo_caso}

\section{A Divisão de Infraestrutura}
\label{sec:div_infra} 
O alvo do nosso estudo de caso é a Divisão de Infraestrutura do Centro de Recursos Computacionais (CERCOMP) da UFG, ligado, hoje, à Secretaria de Infraestrutura e Informação (SeTI) e esta à Reitoria da Universidade.

O CERCOMP tem por objetivos planejar, gerenciar, executar e manter os serviços de infraestrutura computacional da Universidade Federal de Goiás. A Divisão de Infraestrutura é um departamento interno do CERCOMP que cuida da parte de infraestrutura de redes, conectividade e serviços avançados de data center.

O CERCOMP possui um Escritório de Gestão que está fazendo o trabalho de mapeamento e desenho dos processos dentro dos departamentos internos do órgão, mas este trabalho ainda não foi realizado dentro da Divisão de Infraestrutura.

\section{Análise do Cenário Atual}
\label{sec:analise}

\subsection{Fluxo de Atendimentos}
Ao realizar a análise da situação atual, encontrou-se um cenário em que usuários poderiam abrir chamados, isto é, solicitar um serviço de TI ou reportar uma falha em hardware ou software por meio do uso de um sistema de gerenciamento destes chamados.

Após o recebimento do chamado, o Serviço de Atendimento ao Usuário - SAU (estrutura organizacional da TI projetada para ser a responsável pelo recebimento, categorização e encaminhamento de todas as demandas do negócio para a TI) deveria definir se a demanda se tratava de uma requisição de serviço ou de um incidente, isto é, uma falha que estaria impactando negativamente um usuário final e, por consequência, algum processo de negócio.

Ao avaliar este item, foi verificado o primeiro ponto de atenção. A classificação entre requisição de serviço (que, por definição, não gera impacto negativo para nenhum usuário/processo de negócio, nem perdas para a organização) e incidentes (por definição, gera interrupção total ou parcial de processo de negócio) era feita de forma dependente da interpretação dos atendentes do SAU, que têm pouco conhecimento na área de TI. O processo de classificação era baseado em leitura dos dados que o usuário havia digitado no sistema de gerenciamento de chamados tendo, às vezes, que o SAU entrar novamente em contato telefônico ou pelo próprio sistema, com o usuário que gerou o chamado, para identificá-lo melhor, classificá-lo e encaminhá-lo ao departamento correto para atendimento.

Após a classificação, os chamados relacionados à Divisão de Infraestrutra eram encaminhados e novamente analisados pelo Gerente de departamento, que verifica se todos os requisitos inerentes para o atendimento do chamado foram preenchidos, antes de encaminhar o mesmo a um Analista de TI que fará o atendimento propriamente dito. O Analista realiza as interações no chamado que achar pertinente para o atendimento e após a conclusão registra o chamado como solucionado. Uma visualisação do fluxo de atendimento pode ser visto na Figura~\ref{fig:atendim}

\begin{figure}
  \centering
  \includegraphics[scale=0.6]{./fig/atendimento.png}
  \caption{Fluxo de atendimento dos chamados de TI para a Divisão de Infraestrutura.}
  \label{fig:atendim}
 \end{figure}
 
\subsection{Levantamento dos Principais Subprocessos}
Como não há a definição institucional, ou mesmo do órgão, para o Catálogo de Serviços, os processos aqui levantados e desenhados foram realizados através dos fluxos de atendimentos e atribuições definidos pela gerência de departamento existente na atualidade. Para o desenho dos fluxos dos subprocessos foi utilizada a modelagem na notação BPMN.

O foco abordado neste estudo de caso foram os subprocessos de serviços voltados para o cliente, que são visíveis para o negócio.

\subsubsection*{Criação/Alteração/Exclusão de Domínios}
Para criar, alterar ou excluir um domínio no Servidor de Nomes de Domínio (DNS), o gerente de departamento recebe a solicitação, analisa se há necessidade de algum esclarecimento, se houver a necessidade ele solicita essas informações ao usuário que solicitou o serviço. O usuário retorna com as informações solicitadas e o gerente encaminha a solicitação a um analista de TI que será responsável pela execução do serviço. Caso não haja a necessidade de esclarecimentos, a solicitação é encaminhada diretamente ao analista de TI.

Ao receber a solicitação o analista de TI designado realiza a criação, alteração ou exclusão do registro do domínio no DNS, registra no sistema de Ordem de Serviços (OS) o atendimento da solicitação e finaliza o mesmo. O fluxo deste processo pode ser observado na Figura~\ref{fig:criar_dominio}.

\begin{figure}
  \centering
  \includegraphics[scale=0.7]{./fig/criar_dominio.png}
  \caption{Processo de atendimento para criar, alterar ou excluir domínios no DNS.}
  \label{fig:criar_dominio}
 \end{figure}
 
\subsubsection*{Configuração de rede WiFi}
Para configuração de redes sem fio (WiFi) o gerente de departamento recebe a solicitação, analisa se a necessidade na solicitação é para uma nova rede WiFi ou para algum problema na rede existente, se houver a necessidade ele solicita informações adicionais ou complementares ao usuário que solicitou o serviço. O usuário retorna com as informações solicitadas e o gerente encaminha a solicitação a um analista de TI que será responsável pela execução do serviço. Caso não haja a necessidade de esclarecimentos, ou seja uma nova rede, a solicitação é encaminhada diretamente ao analista de TI.

Ao receber a solicitação o analista de TI designado, caso a solicitação seja para uma nova rede WiFi, realiza a criação  da rede, registra no sistema de Ordem de Serviços (OS) o atendimento da solicitação, envia um e-mail ao usuário solicitante com os dados sensíveis da rede criada e finaliza o mesmo. 

Caso a solicitação seja para um problema em uma rede existente, o analista faz a verificação do problema pelo \textit{software} de gerenciamento da solução WiFi, realiza as correções necessárias e verifica com o usuário solicitante se a intervenção foi suficiente para solucionar o problema ou se será necessária uma visita no local para verificação. Se o usuário retornar com uma resposta positiva, o analista de TI registra no sistema de OS o atendimento da solicitação e finaliza o mesmo. Caso contrário, é agendada uma visita no local para verificação/correção do problema, que após resolvido é realizado o registro de atendimento da solicitação no sistema de OS. O fluxo deste processo pode ser observado na Figura~\ref{fig:config_wifi}.

\begin{figure}
  \centering
  \includegraphics[scale=0.5]{./fig/config_wifi.png}
  \caption{Processo de atendimento para configuração de WiFi.}
  \label{fig:config_wifi}
 \end{figure}
 
\subsubsection*{Ativação de Pontos de Rede}
Para ativação de pontos de rede o gerente de departamento recebe a solicitação, analisa se há necessidade de algum esclarecimento, se houver a necessidade ele solicita essas informações ao usuário que solicitou o serviço. O usuário retorna com as informações solicitadas e o gerente encaminha a solicitação a um analista de TI que será responsável pela execução do serviço. Caso não haja a necessidade de esclarecimentos, a solicitação é encaminhada diretamente ao analista de TI.

Ao receber a solicitação o analista de TI designado realiza a verificação se existe algum switch com porta disponível para ativação do ponto de rede. Caso não haja porta disponível nos switches, o analista envia uma comunicação ao gerente de departamento, registra no sistema de Ordem de Serviços (OS) o problema encontrado e aborta a solicitação por não ser possível atendê-la. 

No caso de haver switches com porta disponível, o analista de TI agenda uma visita ao local para ativação do ponto. Na data e horário agendados, o analista de TI ativa o ponto, testa se o mesmo ficou funcional, registra no sistema de Ordem de Serviços (OS) o atendimento da solicitação e finaliza o mesmo.  O fluxo deste processo pode ser observado na Figura~\ref{fig:ativa_ponto}.

\begin{figure}
  \centering
  \includegraphics[scale=0.6]{./fig/ativa_ponto.png}
  \caption{Processo de atendimento para ativar pontos de rede.}
  \label{fig:ativa_ponto}
 \end{figure}
 
\subsubsection*{Hospedagem de Servidores Físicos}
Para as solicitações de hospedagem de servidores físicos no Data Center da UFG, o gerente de departamento recebe a solicitação, analisa se o servidor alvo da solicitação possui as características e requisitos necessários para ser instalado no Data Center, bem como se haverá uma pessoa designada como responsável pelo mesmo em caso de problemas físicos ou de configuração. Caso o servidor não atenda aos requisitos, ou não haja a designação de pessoa responsável, a solicitação é recusada, o gerente de departamento registra no sistema de Ordem de Serviços (OS) o motivo da recusa e o processo é finalizado.

No caso dos requisitos do servidor serem atendidos, bem como haja a designação de pessoa responsável pelo mesmo, o gerente encaminha a solicitação a um analista de TI que será responsável pela execução do serviço.

Ao receber a solicitação, o analista de TI fará um agendamento com a pessoa designada para que o servidor seja entregue e instalado fisicamente no Data Center. Na data e horário agendados, o analista de TI, juntamente com a pessoa designada como responsável, se deslocam para o Data Center e executam a instalação física do servidor. 

Após a instalação física, é agendada uma nova data, com a pessoa designada como responsável, a configuração e ativação do servidor, por parte do analista de TI, para que o mesmo esteja acessível. Até a data agendada as configurações são realizadas, o servidor fica ativo e os dados e credenciais de acesso são enviados à pessoa designada como responsável pelo servidor. O analista de TI registra no sistema de Ordem de Serviços (OS) o atendimento da solicitação e finaliza a mesma. O fluxo deste processo pode ser observado na Figura~\ref{fig:colocation}.

\begin{figure}
  \centering
  \includegraphics[scale=0.7]{./fig/colocation.png}
  \caption{Processo de atendimento para hospedagem de servidores físicos.}
  \label{fig:colocation}
 \end{figure}
 
\subsubsection*{Hospedagem de Máquinas Virtuais}
Para as solicitações de hospedagem de servidores virtuais no Data Center da UFG, o gerente de departamento recebe a solicitação, analisa se a solicitação possui as autorizações e os requisitos para o atendimento, bem como se haverá uma pessoa designada como responsável pelo mesmo em caso de problemas de configuração. Caso a solicitação não atenda aos requisitos, ou não haja a designação de pessoa responsável, a solicitação é recusada, o gerente de departamento ccomnica ao solicitante, registra no sistema de Ordem de Serviços (OS) o motivo da recusa e o processo é finalizado.

No caso dos requisitos do servidor serem atendidos, bem como haja a designação de pessoa responsável pelo mesmo, o gerente encaminha a solicitação a um analista de TI que será responsável pela execução do serviço.

Ao receber a solicitação, o analista de TI fará um agendamento com a pessoa designada para que o servidor virtal seja configurado e entregue as credenciais de acesso. Até a data agendada as configurações são realizadas, o servidor fica ativo e os dados e credenciais de acesso são enviados à pessoa designada como responsável pelo servidor virtal. O analista de TI registra no sistema de Ordem de Serviços (OS) o atendimento da solicitação e finaliza a mesma. O fluxo deste processo pode ser observado na Figura~\ref{fig:criar_vm}.

\begin{figure}[h]
  \centering
  \includegraphics[scale=0.6]{./fig/criar_vm.png}
  \caption{Processo de atendimento para criação de máquinas virtuais.}
  \label{fig:criar_vm}
 \end{figure}
 
\subsubsection*{Criação de e-mails de grupo}
Para as solicitações de criação de e-mails de grupo, o gerente de departamento recebe a solicitação, analisa se a solicitação possui os requisitos para o atendimento, se houver a necessidade ele solicita informações adicionais ao usuário que solicitou o serviço. O usuário retorna com as informações solicitadas e o gerente encaminha a solicitação a um analista de TI que será responsável pela execução do serviço. Caso não haja a necessidade de esclarecimentos, a solicitação é encaminhada diretamente ao analista de TI.

Ao receber a solicitação o analista de TI designado realiza a criação do e-mail de grupo, registra no sistema de Ordem de Serviços (OS) o atendimento da solicitação e finaliza o mesmo. O fluxo deste processo pode ser observado na Figura~\ref{fig:criar_email}.

\begin{figure}[h]
  \centering
  \includegraphics[scale=0.7]{./fig/criar_email.png}
  \caption{Processo de atendimento para criação de e-mails de grupo.}
  \label{fig:criar_email}
 \end{figure}
 
\subsubsection*{Criação de Certificados SSL}
Para as solicitações de criação de certificados SSL (\textit{Secure Sockets Layer}), utilizado em páginas seguras da internet e domínios determinados, o gerente de departamento recebe a solicitação, analisa se a solicitação possui os requisitos para o atendimento, se houver a necessidade ele solicita informações adicionais ao usuário que solicitou o serviço. O usuário retorna com as informações solicitadas e o gerente encaminha a solicitação a um analista de TI que será responsável pela execução do serviço. Caso não haja a necessidade de esclarecimentos, a solicitação é encaminhada diretamente ao analista de TI.

Ao receber a solicitação, o analista de TI designado verifica se já existe certificado emitido para o domínio em questão, caso exista o analista de TI comunica ao usuário e solicita ao mesmo que se apresente pessoalmente no departamento com uma mídia removível e o formulário de autorização, preenchido e assinado pela direção do órgão/unidade, para que o certificado e a chave privada sejam entregues, depois de realizada entrega do certificado, registra no sistema de Ordem de Serviços (OS) o atendimento da solicitação e finaliza o mesmo. 

Caso não exista certificado emitido, o analista procede a emissão do certificado, comunica ao usuário e solicita ao mesmo que se apresente pessoalmente no departamento com uma mídia removível e o formulário de autorização, preenchido e assinado pela direção do órgão/unidade, para que o certificado e a chave privada sejam entregues, depois  de realizada entrega do certificado, registra no sistema de Ordem de Serviços (OS) o atendimento da solicitação e finaliza o mesmo. O fluxo deste processo pode ser observado na Figura~\ref{fig:criar_certificado}.

\begin{figure}[h]
  \centering
  \includegraphics[scale=0.6]{./fig/criar_certificado.png}
  \caption{Processo de atendimento para criação de certificados SSL.}
  \label{fig:criar_certificado}
 \end{figure}
 
\subsubsection*{Criação/Alteração/Exclusão de Usuário no Servidor de Arquivos}
Para criar, alterar ou excluir um usuário no Servidor de arquivos, o gerente de departamento recebe a solicitação, analisa se o servidor em questão é, ou não, administrado pelo departamento. Caso o servidor não seja administrado pelo departamento, a solicitação é recusada, o gerente de departamento registra no sistema de Ordem de Serviços (OS) o motivo da recusa e o processo é finalizado.

Se o servidor for administrado pelo deparamento, o gerente verifica se há necessidade de algum esclarecimento, se houver a necessidade ele solicita essas informações ao usuário que solicitou o serviço. O usuário retorna com as informações solicitadas e o gerente encaminha a solicitação a um analista de TI que será responsável pela execução do serviço. Caso não haja a necessidade de esclarecimentos, a solicitação é encaminhada diretamente ao analista de TI.

Ao receber a solicitação o analista de TI designado realiza a criação, alteração ou exclusão do usuário no servidor de arquivos solicitado, registra no sistema de Ordem de Serviços (OS) o atendimento da solicitação e finaliza o mesmo. O fluxo deste processo pode ser observado na Figura~\ref{fig:criar_usuario}.

\begin{figure}
  \centering
  \includegraphics[scale=0.7]{./fig/criar_usuario.png}
  \caption{Processo de atendimento para criar, alterar ou excluir usuário no servidor de arquivos.}
  \label{fig:criar_usuario}
 \end{figure}
